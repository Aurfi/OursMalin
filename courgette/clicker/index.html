<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>Courgette¬†Clicker</title>
    <!-- Emp√™cher l'indexation automatique de cette page afin de r√©duire sa
         visibilit√© dans les moteurs de recherche et de compliquer les op√©rations
         de scraping. -->
    <meta name="robots" content="noindex, nofollow" />
    <!-- Feuille de style principale.  Les chemins sont relatifs √† la racine
         du dossier ¬´courgette¬ª.  En remontant d'un niveau depuis le dossier
         clicker, on atteint le dossier css. -->
    <link rel="stylesheet" href="../css/style_v2.css?v=19" />
    <!-- PWA manifest.  Le chemin est ajust√© pour r√©f√©rencer le manifest du
         dossier parent. -->
    <link rel="manifest" href="../manifest.webmanifest" />
  </head>
  <body>
    <main id="app" class="container" role="main">
      <!-- Title of the game placed at the top of the container -->
      <h1 id="game-title"></h1>

      <!-- Stats -->
      <div id="stats" class="stats">
        <!-- Current stock of courgettes -->
        <div class="main-score">
          <span id="score">0</span> <span data-i18n="scoreCurrent"></span>
        </div>
        <!-- Additional metrics: production per minute and per click -->
        <div class="sub-stats">
          <div>
            <span id="perMin" class="value">0</span> <span data-i18n="perMinute"></span>
          </div>
          <div>
            <span id="perClick" class="value">0</span> <span data-i18n="perClick"></span>
          </div>
        </div>
      </div>

      <!-- Barre de progression : indique le pourcentage vers le prochain b√¢timent.
           Une √©tiquette indique √©galement le nom du prochain √©l√©ment et l'avancement
           num√©rique. -->
      <div class="progress-container" aria-live="polite">
        <span id="progress-label" class="progress-label">&nbsp;</span>
        <div id="progress-bar" class="progress-bar"></div>
      </div>

        <!-- Options: sound, animation, language selection -->
        <div id="options" class="options" role="toolbar" aria-label="Options de jeu">
        <!-- Boutons de navigation : options (settings), succ√®s, boosts globaux -->
        <button id="settings-btn" class="settings-btn" aria-label="Options">
          <!-- Ic√¥ne param√®tres remplac√©e par un emoji pour limiter l‚Äôusage d‚Äôassets -->
          <span class="emoji-btn" aria-hidden="true">‚öôÔ∏è</span>
        </button>
        <button id="achievements-btn" class="achievements-btn" aria-label="Succ√®s">
          <!-- Ic√¥ne succ√®s remplac√©e par un emoji troph√©e -->
          <span class="emoji-btn" aria-hidden="true">üèÜ</span>
        </button>
      </div>
      <div id="clicker-area" class="clicker-area">
        <!-- Zone interactive¬†: Courgette‚Äëchan est compos√©e de plusieurs calques (corps, bras, expression, overlay).
             Les bras et le visage sont remplac√©s dynamiquement via JavaScript pour cr√©er des animations.
             Le conteneur conserve des proportions relatives pour rester responsive. -->
        <button id="clicker" class="clicker">
          <div id="courgette-wrapper" class="courgette-wrapper">
            <!-- Corps principal¬†: image de base sans visage. Le visage est superpos√© via un calque s√©par√©. -->
            <!--¬†Le corps principal utilise l‚Äôimage de base sans visage fournie par l‚Äôutilisateur. -->
            <img id="courgette-body" src="../assets/courgette_base.png" alt="Courgette‚Äëchan" class="courgette-layer body" />
            <!--¬†Le visage est un calque s√©par√©¬†: sa source change dynamiquement selon l‚Äôexpression (neutre, ouverte, demi‚Äëyeux, clic).
                 On commence par l‚Äôexpression neutre. -->
            <img id="courgette-face" src="../assets/face_neutral_user_latest.png" alt="Visage de Courgette‚Äëchan" class="courgette-layer face-img" />
            <!-- Membres de Courgette‚Äëchan dessin√©s comme des lignes pour un style stick‚Äëfigure. Ils sont positionn√©s
                 relativement au conteneur et anim√©s via JavaScript en r√©ponse aux clics. -->
            <div class="limb left-arm"></div>
            <div class="limb right-arm"></div>
            <div class="limb left-leg"></div>
            <div class="limb right-leg"></div>
            <!-- Overlay d‚Äô√©clairage / profondeur pour accentuer le relief. Il att√©nue l√©g√®rement le corps lors des clics. -->
            <img id="courgette-overlay" src="../assets/courgette_overlay.png" alt="Overlay" class="courgette-layer overlay" />
          </div>
        </button>
      </div>
      <!-- Zone pour les messages humoristiques de type fil d'actualit√© -->
      <!-- Zone pour les messages humoristiques de type fil d'actualit√©.
           Un capybara journaliste appara√Æt sur le c√¥t√© et "crie" les nouvelles dans une bulle fa√ßon bande dessin√©e. -->
      <div id="news" class="news">
        <div class="capybara-news">
          <!-- The order of elements is reversed to accommodate the new capybara image facing left.
               The news bubble comes first, followed by the capybara on the right so that the bubble
               appears to emerge from the capybara‚Äôs mouth. -->
          <div id="news-text" class="news-text"></div>
          <div class="capybara-holder">
            <div class="capybara-bg"></div>
            <!-- New realistic capybara image with press hat. The id allows click handling for the easter egg. -->
            <img src="../assets/capybara.png" alt="Capybara journaliste" class="capybara-img" id="capybara-img" />
          </div>
        </div>
      </div>
      <div id="upgrades" class="upgrades"></div>

      <!-- Challenges section: displays daily and weekly challenges with progress
           indicators and rewards. Initially populated by JavaScript. -->
      <div id="challenges" class="challenges"></div>
      <!-- Section des am√©liorations globales est d√©sormais accessible via un overlay -->
      <!-- Le conteneur global-upgrades n‚Äôest plus affich√© ici. Il est rendu dans un overlay s√©par√©. -->
      <!-- Section prestige pour la m√©canique de reset -->
      <div id="prestige" class="prestige">
        <div class="prestige-actions">
          <button id="prestige-btn" class="prestige-btn" data-i18n="prestigeBtn"></button>
          <!-- Button to open the seeds shop. Shows the amount of seeds owned. -->
        </div>
        <div id="prestige-info" class="prestige-info"></div>
      </div>

    <!-- Achievements overlay: shows all unlocked and locked achievements along with progress. Initially hidden. -->
    <div id="achievements-overlay" class="achievements-overlay" hidden>
      <div class="achievements-content">
        <h2 data-i18n="achievementsTitle">Succ√®s</h2>
        <p id="achievements-progress" class="achievements-progress"></p>
        <!-- Additional statistics about the current run (clicks, time spent, etc.) -->
        <div id="achievements-stats" class="achievements-stats"></div>
        <div id="achievements-list" class="achievements-list"></div>
        <button id="achievements-close" class="achievements-close" data-i18n="close">Fermer</button>
      </div>
    </div>

    <!-- Global upgrades overlay: displays available and purchased boosts. Hidden by default -->
    <div id="global-upgrades-overlay" class="global-upgrades-overlay" hidden>
      <div class="global-upgrades-content">
        <h2 id="global-upgrades-title" data-i18n="globalUpgradesTitle">Boosts globaux</h2>
        <div id="global-upgrades-list" class="upgrades"></div>
        <button id="global-upgrades-close" class="global-upgrades-close" data-i18n="close">Fermer</button>
      </div>
    </div>

    <!-- Seeds overlay: dedicated shop for cosmic seeds. Hidden by default -->
    <div id="seeds-overlay" class="seeds-overlay" hidden>
      <div class="seeds-content">
        <h2 data-i18n="seedsTitle">Boutique des graines</h2>
        <p id="seeds-count" class="seeds-count"></p>
        <div id="seeds-list" class="seeds-list"></div>
        <!-- Message displayed when no seed upgrades are available -->
        <div id="seeds-empty-msg" class="seeds-empty" hidden></div>

        <button id="seeds-close" class="seeds-close" data-i18n="close">Fermer</button>
      </div>
    </div>
    <!-- La pop‚Äëup d‚Äôachat du skin Aubergine est d√©sormais g√©n√©r√©e dynamiquement par
         le script lorsque l‚Äôutilisateur clique sur l‚Äôoffre sp√©ciale. Elle n‚Äôest
         plus d√©finie statiquement dans le HTML afin d‚Äô√©viter tout affichage
         intempestif au chargement. -->
    <!-- Settings overlay: configurable options such as sound, animations, contrast et langue -->
    <div id="settings-overlay" class="settings-overlay" hidden>
      <div class="settings-content">
        <h2 id="settings-title" data-i18n="settingsTitle">Options</h2>
        <div class="settings-item">
          <span data-i18n="optSound">Son</span>
          <label class="switch">
            <input type="checkbox" id="settings-sound" />
            <span class="slider"></span>
          </label>
        </div>
        <div class="settings-item">
          <span data-i18n="optAnim">Animations</span>
          <label class="switch">
            <input type="checkbox" id="settings-anim" />
            <span class="slider"></span>
          </label>
        </div>
        <div class="settings-item">
          <span data-i18n="optContrast">Contraste √©lev√©</span>
          <label class="switch">
            <input type="checkbox" id="settings-contrast" />
            <span class="slider"></span>
          </label>
        </div>
        <div class="settings-item">
          <span data-i18n="optLang">Langue</span>
          <!-- Utilisation d'un menu d√©roulant pour la s√©lection de langue.
               Chaque option affiche l‚Äôemoji du drapeau correspondant plut√¥t
               qu‚Äôun simple code ISO.  Le s√©lecteur √©tait auparavant
               masqu√© (style="display:none") et remplac√© par des boutons
               drapeaux ; nous l‚Äôaffichons d√©sormais directement pour
               simplifier l‚Äôinterface et r√©pondre √† la demande. -->
          <select id="settings-language">
            <option value="fr">üá´üá∑ Fran√ßais</option>
            <option value="en">üá¨üáß English</option>
            <option value="ru">üá∑üá∫ –†—É—Å—Å–∫–∏–π</option>
            <option value="zh">üá®üá≥ ‰∏≠Êñá</option>
            <option value="ja">üáØüáµ Êó•Êú¨Ë™û</option>
            <!-- Nouvelle langue Capybara avec emoji castor¬†ü¶´ -->
            <option value="capy">ü¶´ Capybara</option>
          </select>
        </div>
        <!-- Conteneur pour le s√©lecteur de skin.  Le contenu est g√©n√©r√© dynamiquement selon les skins d√©bloqu√©s. -->
        <div class="settings-item" id="skin-setting" hidden></div>
        <!-- Additional settings can be added here in the future -->

        <!-- Champ de texte discret permettant d‚Äôactiver le mode dieu.
             Aucun texte descriptif n‚Äôexplique sa fonction afin qu‚Äôil
             ressemble √† un simple champ libre.  Lorsque le joueur saisit
             "dieu est grand" dans ce champ, le mode dieu s‚Äôactive ; en
             tapant "dieu est petit", il se d√©sactive.  Voir main.js pour
             la gestion de cet easter egg. -->
        <div class="settings-item" style="margin-top:12px;">
          <input type="text" id="god-input" aria-label="Champ secret" placeholder="" style="width:100%; background-color:#f4f4f4; border:1px solid #ccc; border-radius:8px; padding:6px; color:#333;" />
        </div>

        <!-- Bouton de r√©initialisation. Permet au joueur d'effacer totalement sa progression. -->
        <div class="settings-item">
          <button id="reset-btn" class="reset-btn" data-i18n="optReset" style="width:100%; padding:8px; margin-top:8px; background-color:#e74c3c; color:#fff; border:none; border-radius:8px; cursor:pointer;">
            R√©initialiser la partie
          </button>
        </div>
        <button id="settings-close" class="settings-close" data-i18n="close">Fermer</button>
      </div>
    </main>

    <!-- L‚Äôaide contextuelle a √©t√© supprim√©e pour simplifier l‚Äôinterface¬†: les joueurs d√©couvrent les m√©canismes en jouant. -->

    <!-- Ajout d'un bouton de retour vers CapyGames. Ce lien est relatif √† la racine du site.
         Le chemin remonte de deux niveaux (clicker ‚Üí courgette ‚Üí racine) puis entre dans Capy. -->
    <div class="capygames-link">
      <a href="../../Capy/games.html" target="_blank">Retour vers CapyGames</a>
    </div>
    <!-- Main game script
         Ajout d'un param√®tre de version √† l'URL pour contourner le cache du service worker.
         Lorsqu'on modifie le script principal, incr√©mentez la valeur apr√®s v= afin que la
         requ√™te r√©cup√®re la nouvelle version au lieu de servir une version obsol√®te. -->
    <!-- Mettez √† jour le param√®tre de version lorsque le script principal change afin
         d'√©viter la mise en cache de l'ancienne version par le service worker. -->
    <!-- Version bump: increment the v= parameter whenever main.js changes to
         force the service worker to fetch the latest script. -->
    <script src="../js/main.js?v=35"></script>

    <!-- Honeypot¬†: lien invisible destin√© √† pi√©ger les scrapers et robots. Aucun
         fichier ne correspond √† cette URL ; les humains ne verront pas cet √©l√©ment. -->
    <div style="display:none">
      <a href="/secret/9e2f7d.html">Ne pas cliquer</a>
    </div>
  </body>
</html>