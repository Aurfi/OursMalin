<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>CapyÂ Puzzle</title>
    <link rel="stylesheet" href="style_v2.css" />
  </head>
  <!-- Le puzzle est un jeu calme et accessible, jouable aussi bien en portrait
       qu'en paysage.  On ne force pas l'orientation. -->
  <body data-force-landscape="false">
    <!-- Bouton de volume gÃ©nÃ©rique.  MÃªme si ce jeu ne comporte pas
         d'effets sonores pour l'instant, il permet de respecter la cohÃ©rence
         de l'interface avec les autres jeux. -->
    <button id="volume-toggle" class="volume-btn">ğŸ”‡</button>
    <!-- Conteneur principal : canvas et barre latÃ©rale.  Le canvas est
         redimensionnÃ© dynamiquement par puzzle.js pour s'adapter Ã 
         l'Ã©cran. -->
    <div id="puzzle-container" class="courgette-container">
      <canvas id="puzzleCanvas" width="480" height="480"></canvas>
      <div class="courgette-sidebar">
        <p>TempsÂ : <span id="puzzle-time">0</span>s</p>
        <p>CoupsÂ : <span id="puzzle-moves">0</span></p>
        <!-- SÃ©lecteur de difficultÃ©Â : permet de choisir la taille du puzzle (2Ã—2 Ã  6Ã—6).
             Le label affiche la dimension courante.  Cette section est insÃ©rÃ©e ici
             afin de laisser l'utilisateur sÃ©lectionner un niveau de difficultÃ©
             directement depuis l'interface. -->
        <div style="display:flex; flex-direction:column; align-items:center; gap:4px; width:100%;">
          <label for="puzzle-size-slider" style="font-size:0.9em;">TailleÂ :</label>
          <input type="range" id="puzzle-size-slider" min="2" max="6" value="4" step="1" style="width:100%;" />
          <span id="puzzle-size-label" style="font-size:0.9em;">4Ã—4</span>
        </div>
        <button id="puzzle-restart" class="btn">Rejouer</button>
        <button id="puzzle-menu" class="btn">Menu</button>
      </div>
    </div>
    <!-- Ã‰cran de fin de partie lorsque le puzzle est rÃ©solu.  Affiche
         le temps de rÃ©solution et le record stockÃ© localement. -->
    <div id="puzzle-gameover" class="overlay hidden">
      <div class="menu-card">
        <h1>Puzzle terminÃ©Â !</h1>
        <p><strong>TempsÂ :</strong> <span id="puzzle-current-time">0</span>s</p>
        <p><strong>RecordÂ :</strong> <span id="puzzle-high-score">â€“</span>s</p>
        <p id="puzzle-fun-message" class="fun-message"></p>
        <div class="button-group">
          <button id="puzzle-over-replay" class="btn">Rejouer</button>
          <button id="puzzle-over-menu" class="btn">Menu</button>
        </div>
      </div>
    </div>
    <!-- FenÃªtre d'instructions affichÃ©e au premier lancement. -->
    <div id="puzzle-instructions" class="overlay hidden">
      <div class="menu-card">
        <h2>CapyÂ PuzzleÂ â€“ RÃ¨gles</h2>
        <p>RÃ©organisez les tuiles numÃ©rotÃ©es pour remettre le puzzle en ordre de 1 Ã  15.
          Cliquez ou touchez une tuile adjacente Ã  la case vide pour la dÃ©placer.
          Terminez le puzzle en un minimum de temps et de coupsÂ !</p>
        <button id="puzzle-instructions-ok" class="btn">Ok</button>
      </div>
    </div>
    <!-- Message d'orientation : le puzzle est jouable dans n'importe quelle
         orientation, mais nous conservons la structure pour cohÃ©rence. -->
    <div id="orientation-warning" class="orientation-warning hidden">
      Veuillez tourner votre appareil en mode paysageÂ !
    </div>
    <script src="config.js"></script>
    <script src="puzzle.js"></script>
    <script src="orientation.js"></script>
  </body>
</html>