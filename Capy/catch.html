<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>CapyÂ Catch</title>
    <!-- Feuille de style partagÃ©e par tous les jeux -->
    <link rel="stylesheet" href="style_v3.css" />
  </head>
  <!-- Ce jeu peut Ãªtre jouÃ© aussi bien en portrait qu'en paysage.  On
       utilise dataâ€‘forceâ€‘landscape="false" pour que l'overlay
       d'orientation ne bloque pas l'accÃ¨s en portrait. -->
  <body data-force-landscape="false">
    <!-- Bouton muet permettant de couper le son.  Il s'affiche en haut Ã  droite -->
    <button id="volume-toggle" class="volume-btn">ğŸ”‡</button>
    <!-- Conteneur principal alignant le canvas et la barre d'information. -->
    <div id="catch-container" class="courgette-container">
      <!-- Zone de jeu.  La taille du canvas est ajustÃ©e dynamiquement en
           fonction de l'orientation par catch.js -->
      <canvas id="catchCanvas" width="480" height="640"></canvas>
      <!-- Barre latÃ©rale affichant le score et les vies restantes -->
      <div class="courgette-sidebar">
        <p>ScoreÂ : <span id="catch-score">0</span></p>
        <p>ViesÂ : <span id="catch-lives">3</span></p>
        <button id="catch-restart" class="btn">Rejouer</button>
        <button id="catch-menu" class="btn">Menu</button>
      </div>
      <!-- ContrÃ´les mobilesÂ : flÃ¨ches gauche et droite.  Ces boutons
           apparaissent sur les appareils tactiles pour permettre le
           dÃ©placement du joueur sans clavier. -->
      <div id="catch-controls" class="mobile-controls">
        <button id="catch-left" class="mobile-btn">â—€</button>
        <button id="catch-right" class="mobile-btn">â–¶</button>
      </div>
    </div>
    <!-- Ã‰cran de fin de partie.  Il apparaÃ®t lorsque le joueur a perdu
         toutes ses vies.  Il affiche le score obtenu, le record et un
         message humoristique. -->
    <div id="catch-gameover" class="overlay hidden">
      <div class="menu-card">
        <h1 id="catch-gameover-title">TerminÃ©Â !</h1>
        <p><strong>ScoreÂ :</strong> <span id="catch-current-score">0</span></p>
        <p><strong>RecordÂ :</strong> <span id="catch-high-score">0</span></p>
        <p id="catch-fun-message" class="fun-message"></p>
        <div class="button-group">
          <button id="catch-over-replay" class="btn">Rejouer</button>
          <button id="catch-over-menu" class="btn">Menu</button>
        </div>
      </div>
    </div>

    <!-- FenÃªtre d'instructionsÂ : affichÃ©e lors du premier lancement
         pour expliquer les rÃ¨gles du jeu.  Elle reste cachÃ©e par dÃ©faut
         et n'apparaÃ®t plus aprÃ¨s validation. -->
    <div id="catch-instructions" class="overlay hidden">
      <div class="menu-card">
        <h2>CapyÂ CatchÂ â€“ RÃ¨gles</h2>
        <p>DÃ©placez le capybara pour attraper les lÃ©gumes qui tombent du ciel tout en
          Ã©vitant les fourches. Chaque lÃ©gume capturÃ© rapporte des points,
          tandis quâ€™une fourche vous fait perdre une vie. La partie se
          termine lorsque toutes les vies sont perdues. Sur mobile,
          utilisez les boutons flÃ¨ches pour vous dÃ©placer.</p>
        <button id="catch-instructions-ok" class="btn">Ok</button>
      </div>
    </div>
    <!-- Message d'orientation affichÃ© si le jeu impose le paysage.  Ici
         nous ne forÃ§ons pas l'orientation, mais la structure est conservÃ©e
         pour l'uniformitÃ© -->
    <div id="orientation-warning" class="orientation-warning hidden">
      Veuillez tourner votre appareil en mode paysageÂ !
    </div>
    <!-- Charger la configuration globale et le script du jeu -->
    <script src="config.js"></script>
    <script src="catch.js"></script>
    <script src="orientation.js"></script>
  </body>
</html>